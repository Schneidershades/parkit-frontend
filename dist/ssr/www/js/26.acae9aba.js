(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{7368:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"q-pa-md q-gutter-sm"},[a("q-breadcrumbs",[a("q-breadcrumbs-el",{attrs:{label:"Home"}}),a("q-breadcrumbs-el",{attrs:{label:"Invoice"}})],1)],1),a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-y-md"},[a("q-stepper",{attrs:{vertical:"",color:"primary",animated:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[a("q-step",{attrs:{name:1,title:"Select Vehicle Packages",icon:"settings",done:e.step>1}},[a("tab-list"),a("q-stepper-navigation",[e.cart.length?a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(t){e.step=2}}}):e._e()],1)],1),a("q-step",{attrs:{name:2,title:"View Cart",caption:"Customer choosen Packages",icon:"create_new_folder",done:e.step>2}},[a("cart"),a("q-stepper-navigation",[e.cart.length?a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(t){e.step=3}}}):e._e(),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){e.step=1}}})],1)],1),a("q-step",{attrs:{name:3,title:"Process Plate Number",icon:"assignment",done:e.step>3}},[a("q-form",{ref:"form",staticClass:"q-gutter-md",on:{submit:e.submitFindVehicle}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6 q-pl-sm"},[a("q-input",{ref:"name",attrs:{filled:"",dense:e.dense,label:"Get Vehicle Details *",hint:"Please insert a plate number","lazy-rules":"",rules:[function(e){return e&&e.length>0||"Please type something"}]},model:{value:e.plateNumber.number,callback:function(t){e.$set(e.plateNumber,"number",t)},expression:"plateNumber.number"}})],1),a("div",{staticClass:"col-6 q-pl-sm"},[a("q-btn",{attrs:{type:"submit",color:"primary",label:"Search Plate Number"}})],1)])]),e.plateVehicleDetails.user?[a("q-form",{ref:"form",staticClass:"q-gutter-md q-pt-xl",on:{submit:e.updateUser}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4 q-pa-sm"},[a("q-input",{ref:"name",attrs:{filled:"",label:"Plate Number *",readonly:"",value:e.plateNumber.number},model:{value:e.newUser.plate_number,callback:function(t){e.$set(e.newUser,"plate_number",t)},expression:"newUser.plate_number"}})],1),a("div",{staticClass:"col-4 q-pa-sm"},[a("q-input",{ref:"name",attrs:{dense:e.dense,readonly:e.readonly,filled:"",prefix:"+234",label:"Phone Number",mask:"(###) ### - ####","unmasked-value":"",hint:"Hint : (703) 749 - 5705","lazy-rules":"",rules:[function(e){return!!e||"* Required"},function(e){return e&&e.length>0||"Please type in your phone number"}]},model:{value:e.newUser.phone,callback:function(t){e.$set(e.newUser,"phone",t)},expression:"newUser.phone"}})],1),a("div",{staticClass:"col-4 q-pa-sm"},[a("q-select",{attrs:{filled:"",options:e.vehicles,label:"Get Vehicle Type *","lazy-rules":"",dense:e.dense,readonly:e.readonly},model:{value:e.newUser.vehicle_type,callback:function(t){e.$set(e.newUser,"vehicle_type",t)},expression:"newUser.vehicle_type"}})],1),a("div",{staticClass:"col-4 q-pa-sm"},[a("q-select",{attrs:{filled:"",options:e.models,label:"Vehicle Model *","lazy-rules":"",dense:e.dense,readonly:e.readonly},model:{value:e.newUser.vehicle_model,callback:function(t){e.$set(e.newUser,"vehicle_model",t)},expression:"newUser.vehicle_model"}})],1),a("div",{staticClass:"col-4 q-pa-sm"},[a("q-input",{ref:"name",attrs:{filled:"",dense:e.dense,label:"First Name *",readonly:e.readonly},model:{value:e.newUser.first_name,callback:function(t){e.$set(e.newUser,"first_name",t)},expression:"newUser.first_name"}})],1),a("div",{staticClass:"col-4 q-pa-sm"},[a("q-input",{ref:"name",attrs:{filled:"",dense:e.dense,label:"Last Name *",readonly:e.readonly},model:{value:e.newUser.last_name,callback:function(t){e.$set(e.newUser,"last_name",t)},expression:"newUser.last_name"}})],1)]),a("q-card-actions",{attrs:{align:"right"}},[a("q-toggle",{attrs:{color:"warning",label:"Edit User"},model:{value:e.readonly,callback:function(t){e.readonly=t},expression:"readonly"}}),a("br"),a("q-btn",{attrs:{color:"primary",type:"submit",label:"Save Details "}})],1)],1)]:e._e(),a("q-stepper-navigation",[e.plateVehicleDetails.user?a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(t){e.step=4}}}):e._e(),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){e.step=2}}})],1)],2),a("q-step",{attrs:{name:4,title:"Payment Method",icon:"money",done:e.step>4}},[a("div",{staticClass:"q-pa-md"},[a("div",{staticClass:"q-gutter-sm"},[a("q-radio",{attrs:{val:"pos",label:"POS Machine"},model:{value:e.payment_method,callback:function(t){e.payment_method=t},expression:"payment_method"}}),a("q-radio",{attrs:{val:"cash",label:"Cash"},model:{value:e.payment_method,callback:function(t){e.payment_method=t},expression:"payment_method"}}),a("q-radio",{attrs:{val:"online",label:"Online"},model:{value:e.payment_method,callback:function(t){e.payment_method=t},expression:"payment_method"}})],1),a("div",{staticClass:"q-px-sm"},[e._v("\n\t\t\t\t\t      Your selection is: "),a("strong",[e._v(e._s(e.payment_method))])])]),a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Continue"},on:{click:function(t){e.step=5}}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){e.step=3}}})],1)],1),a("q-step",{attrs:{name:5,title:"Print Invoice",icon:"print"}},[a("q-stepper-navigation",[a("q-btn",{attrs:{color:"primary",label:"Finish"}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(t){e.step=4}}})],1)],1)],1)],1)])])},n=[],r=(a("8e6e"),a("8a81"),a("ac6a"),a("cadf"),a("06db"),a("456d"),a("c47a")),l=a.n(r),i=a("2f62"),o=a("2a19"),c=a("7833"),p=a("a3e7");function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function u(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={components:{TabList:c["a"],Cart:p["a"]},data:function(){return{newUser:{phone:"",vehicle_type:"",vehicle_model:"",first_name:"",last_name:"",plate_number:""},order:{},payment_method:"cash",errorMessages:[],error:"",plateNumber:{number:""},vehicles:["SALOON CAR","SUV & SPACE BUS","TRUCK","14 SEATER BUS","18 SEATER BUS","32 SEATER BUS","36 SEATER BUS","PICKUP TRUCK","CARGO TRUCK","MOTOCYCLE"],models:["Toyota","Honda","BMW"],step:1,dense:!0,splitterModel:20,trigger:!1,readonly:!0}},computed:u({},Object(i["c"])({message:"message",errorMessage:"errorMessage",newPhoneNumber:"auth/phone",plateVehicleDetails:"plateNumber/plateNumberDetails",cart:"shopping/cart",userDiscountPriviledge:"shopping/userDiscountPriviledge",discount:"shopping/discount",discountDetails:"shopping/discountDetails"})),methods:u({},Object(i["b"])({sendPlatenumber:"plateNumber/getPlateNumber",updateCustomer:"plateNumber/updateCustomer",placeCustomerOrder:"orders/placeOrder"}),{placeOrder:function(){var e=this;this.placeCustomerOrder([{customer_id:this.authenticatedUser.id,address_id:this.address_id,location_id:this.location_id,coupon_id:this.coupon_id,discount_id:this.discountDetails.id}]).then((function(t){e.$router.push({name:"userOrderShow"})})).catch((function(t){console.log(t),e.errorMessage&&e.negativeNotification("cannot process order at the moment")}))},submitFindVehicle:function(){var e=this;this.sendPlatenumber(this.plateNumber.number).then((function(t){e.trigger=!0,e.newUser.plate_number=e.plateNumber.number,console.log(e.plateVehicleDetails),e.newUser.phone=e.plateVehicleDetails.user.phone,e.newUser.first_name=e.plateVehicleDetails.user.first_name,e.newUser.last_name=e.plateVehicleDetails.user.last_name,e.newUser.vehicle_type=e.plateVehicleDetails.vehicle,e.newUser.vehicle_model=e.plateVehicleDetails.model})).catch((function(t){e.errorMessages=t,console.log(e.errorMessages),e.errorMessages&&e.negativeNotification(e.errorMessages)}))},updateUser:function(){var e=this;this.updateCustomer(this.newUser).then((function(t){e.readonly=!0,e.newUser.plate_number=e.plateNumber.number,console.log(e.plateVehicleDetails),e.newUser.phone=e.plateVehicleDetails.user.phone,e.newUser.first_name=e.plateVehicleDetails.user.first_name,e.newUser.last_name=e.plateVehicleDetails.user.last_name,e.newUser.vehicle_type=e.plateVehicleDetails.vehicle,e.newUser.vehicle_model=e.plateVehicleDetails.model})).catch((function(t){e.errorMessages=t,console.log(e.errorMessages),e.errorMessages&&e.negativeNotification(e.errorMessages)}))},positiveNotification:function(e){o["a"].create({type:"positive",color:"positive",timeout:3e3,position:"center",message:e})},negativeNotification:function(e){o["a"].create({type:"negative",color:"negative",timeout:3e3,position:"center",message:e})}})},b=d,h=a("2877"),f=a("eebe"),v=a.n(f),g=a("9989"),y=a("ead5"),_=a("079e"),q=a("f531"),w=a("87fe"),U=a("b19c"),C=a("9c40"),O=a("0378"),k=a("27f9"),P=a("ddd8"),D=a("4b7e"),N=a("9564"),S=a("3786"),V=Object(h["a"])(b,s,n,!1,null,null,null);t["default"]=V.exports;v()(V,"components",{QPage:g["a"],QBreadcrumbs:y["a"],QBreadcrumbsEl:_["a"],QStepper:q["a"],QStep:w["a"],QStepperNavigation:U["a"],QBtn:C["a"],QForm:O["a"],QInput:k["a"],QSelect:P["a"],QCardActions:D["a"],QToggle:N["a"],QRadio:S["a"]})}}]);